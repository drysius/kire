{
    "$schema": "https://raw.githubusercontent.com/drysius/kire/refs/heads/main/schema.json",
    "package": "@kirejs/auth",
    "version": "0.1.0",
    "author": "Drysius",
    "repository": "https://github.com/drysius/kire",
    "directives": [
        {
            "name": "auth",
            "description": "Renders the block if the user is authenticated.",
            "example": "@auth\n  <p>Welcome back!</p>\n@end",
            "children": true,
            "parents": [
                {
                    "name": "else"
                }
            ]
        },
        {
            "name": "else",
            "children": true
        },
        {
            "name": "guest",
            "description": "Renders the block if the user is NOT authenticated.",
            "example": "@guest\n  <a href='/login'>Login</a>\n@end",
            "children": true
        },
        {
            "name": "notlogged",
            "description": "Renders the block if the user is NOT authenticated.",
            "example": "@guest\n  <a href='/login'>Login</a>\n@end",
            "children": true
        },
        {
            "name": "logged",
            "description": "Alias for @auth. Renders the block if the user is authenticated.",
            "example": "@logged\n  <p>You are logged in.</p>\n@end",
            "children": true
        },
        {
            "name": "authenticated",
            "description": "Alias for @auth. Renders the block if the user is authenticated.",
            "example": "@logged\n  <p>You are logged in.</p>\n@end",
            "children": true
        },
        {
            "name": "user",
            "description": "Injects the current user object into a variable named 'user'.",
            "example": "@user\n<p>Hello, {{ user.name }}</p>"
        },
        {
            "name": "can",
            "description": "Checks if the user has a specific permission.",
            "example": "@can('edit_posts')\n  <button>Edit</button>\n@end",
            "params": [
                "perm:any"
            ],
            "children": true,
            "parents": [
                {
                    "name": "else"
                }
            ]
        },
        {
            "name": "notcan",
            "description": "Checks if the user DOES NOT have a specific permission.",
            "example": "@notcan('view_admin')\n  <p>Access Denied</p>\n@end",
            "params": [
                "perm:any"
            ],
            "children": true
        },
        {
            "name": "canany",
            "description": "Checks if the user has ANY of the provided permissions.",
            "example": "@canany(['edit', 'delete'])\n  <button>Manage</button>\n@end",
            "params": [
                "perms:any"
            ],
            "children": true
        },
        {
            "name": "noauth",
            "description": "Renders the block if the user is NOT authenticated. Alias for @guest.",
            "example": "@noauth\n  <p>Please log in.</p>\n@end",
            "children": true,
            "parents": [
                {
                    "name": "else"
                }
            ]
        }
    ],
    "elements": [],
    "globals": [
        {
            "variable": "$ctx",
            "separator": ".",
            "extends": [
                {
                    "variable": "$auth_getUser",
                    "description": "Global Variable of @kirejs/auth $ctx.$auth_getUser with type function",
                    "comment": "Global Variable of @kirejs/auth $ctx.$auth_getUser with type function",
                    "type": "function"
                },
                {
                    "variable": "$auth_can",
                    "description": "Global Variable of @kirejs/auth $ctx.$auth_can with type function",
                    "comment": "Global Variable of @kirejs/auth $ctx.$auth_can with type function",
                    "type": "function"
                }
            ]
        }
    ]
}