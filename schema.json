{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "Kire Configuration",
	"description": "Configuration file for Kire directives to provide IntelliSense in editors.",
	"type": "object",
	"required": ["package"],
	"properties": {
		"package": {
			"type": "string",
			"description": "Name of the package providing these directives."
		},
		"version": {
			"type": "string"
		},
		"author": {
			"type": "string"
		},
		"repository": {
			"type": ["string", "object"],
			"properties": {
				"type": { "type": "string" },
				"url": { "type": "string" }
			}
		},
		"directives": {
			"type": "array",
			"description": "A list of directive definitions.",
			"items": { "$ref": "#/definitions/directive" }
		},
		"elements": {
			"type": "array",
			"description": "A list of elements/attributes tree nodes.",
			"items": { "$ref": "#/definitions/node" }
		},
		"globals": {
			"type": "array",
			"description": "A list of global/context tree nodes.",
			"items": { "$ref": "#/definitions/node" }
		}
	},
	"definitions": {
		"directive": {
			"type": "object",
			"required": ["name"],
			"properties": {
				"name": {
					"type": "string",
					"description": "The name of the directive (without the '@')."
				},
				"params": {
					"type": "array",
					"items": { "type": "string" }
				},
				"children": {
					"description": "Does this directive accept a block ending with @end?",
					"oneOf": [
						{ "type": "boolean" },
						{ "type": "string", "enum": ["auto"] }
					]
				},
				"childrenRaw": {
					"type": "boolean"
				},
				"parents": {
					"type": "array",
					"items": { "$ref": "#/definitions/directive" }
				},
				"description": {
					"type": "string"
				},
				"comment": {
					"type": "string"
				},
				"example": {
					"type": "string"
				},
				"type": {
					"type": "string",
					"enum": ["css", "js", "html"]
				}
			}
		},
		"node": {
			"type": "object",
			"required": ["variable"],
			"properties": {
				"variable": {
					"type": "string",
					"description": "The key/name of the variable or element part."
				},
				"separator": {
					"type": "string",
					"description": "The separator used between this node and its children (e.g. ':' or '.')."
				},
				"description": {
					"type": "string"
				},
				"comment": {
					"type": "string"
				},
				"example": {
					"type": "string"
				},
				"type": {
					"description": "The TypeScript type or special feature type (e.g. filepath).",
					"oneOf": [
						{ "type": "string" },
						{ "type": "array", "items": { "type": "string" } }
					]
				},
				"extends": {
					"type": "array",
					"items": { "$ref": "#/definitions/node" }
				}
			}
		}
	}
}